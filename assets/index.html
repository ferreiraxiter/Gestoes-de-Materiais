<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de Gestão de Materiais. Cadastro, controle, solicitações e requisições de materiais.">
    <link rel="icon" href="./favicon.png" type="image/png">
    <title>Gestão de Materiais</title>
    <link rel="stylesheet" href="./assets/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
<div class="topbar">
    <div class="logo">
        <i class="fa-solid fa-building-columns"></i>
        Gestão de Materiais
    </div>
</div>

<nav class="tabsbar">
   <ul>
    <li><a href="#" id="abaRecebimentos" class="active" aria-label="Aba Lista de Materiais"><i class="fa fa-box"></i> Lista de Materiais</a></li>
   </ul>
</nav>
<div class="main-content">

    <div id="loader" role="status" aria-live="polite" aria-label="Carregando dados">
        <div style="display:flex;flex-direction:column;align-items:center;">
            <div style="border:6px solid #f3f3f3;border-top:6px solid #2563eb;border-radius:50%;width:48px;height:48px;animation:spin 1s linear infinite;"></div>
            <span style="margin-top:18px;color:#fff;font-size:1.1em;">Carregando dados...</span>
        </div>
    </div>

    <div style="display:flex;justify-content:flex-start;">
        <div class="search-box-local">
            <label for="searchGlobalInput" style="position:absolute;left:-9999px;">Buscar materiais</label>
            <input id="searchGlobalInput" 
                   type="text" 
                   placeholder="Buscar por código ou nome (ex: paraf,m20 para abreviações e múltiplos termos)"
                   aria-label="Campo de busca por código ou nome do material"
                   tabindex="1"
                   autocomplete="off"
            >
            <button id="btnGlobalSearch" aria-label="Buscar materiais" tabindex="2">
                <i class="fa fa-search" aria-hidden="true"></i>
            </button>
            <button id="btnClearSearch" aria-label="Limpar pesquisa" tabindex="3">
                <i class="fa fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <div id="mensagemAviso" style="display:none;position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#2563eb;color:#fff;padding:14px 32px;border-radius:8px;z-index:9999;font-size:1.1em;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.15);" role="alert" aria-live="polite"></div>

    <div id="sr-feedback" style="position:absolute;left:-9999px;" aria-live="polite"></div>

    <div id="recebimentosSection" class="card">
        <div id="listaMateriais"></div>
    </div>
</div>

<footer style="background:#1e293b;color:#fff;text-align:center;padding:16px 0;margin-top:32px;font-size:0.95em;">
    <div>
        &copy; 2025 Gestão de Materiais &mdash; Desenvolvido por Matheus Ferreira.<br>
        <a href="https://furlangrupo.slack.com/archives/C0937ES23HS" target="_blank" rel="noopener noreferrer" style="color:#60a5fa;text-decoration:underline;">Contato</a> |
        <span>Versão 1.0</span>
    </div>
</footer>

<script src="./assets/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const input = document.getElementById('searchGlobalInput');
    const btnClear = document.getElementById('btnClearSearch');
    if (btnClear && input) {
        btnClear.addEventListener('click', function() {
            input.value = '';
            input.focus();
            if (typeof filtrarMateriais === 'function') {
                filtrarMateriais('', 1); 
            }
        });
    }
});
</script>
</body>
</html>
